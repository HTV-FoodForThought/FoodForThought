(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{190:function(e,t,a){e.exports=a(313)},195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},308:function(e,t,a){},313:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(18),c=a.n(i),s=(a(195),a(11)),l=a(12),o=a(15),d=a(13),u=a(14),m=a(316),h=a(315),g=(a(196),a(19)),p=a(9),f=a(37),b=(a(197),a(314)),E=a(77),v=a.n(E),O=a(78),j=a.n(O),I=a(51),y=a.n(I),k=a(79),w=a.n(k),L="http://localhost:5000/";var N=a(22),_=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleFile=function(e){e.preventDefault();var t=new FileReader,n=e.target.files[0];a.setState(Object(p.a)({},a.state,{firstLoad:!1,loadingImage:!0})),t.onloadend=function(){a.setState(Object(p.a)({},a.state,{selectedImage:t.result,imageFile:n}))},t.readAsDataURL(n),function(e){var t=new w.a;return t.append("image",e,e.fileName),y()({headers:{"Content-Type":"multipart/form-data; boundary=".concat(t._boundary)},method:"post",url:"".concat(L,"upload_photo"),data:t})}(n).then(function(e){var t=[];e.data.response.forEach(function(e){t.push(r.a.createElement(N.a,{button:!0,onClick:a.addIngredient.bind(Object(f.a)(a),e)},r.a.createElement("p",null,e)))}),a.setState(Object(p.a)({},a.state,{currImageIngredients:t,loadingImage:!1}))}).catch(function(e){console.log(e)})},a.state={firstLoad:!0,loadingImage:!1,selectedImage:v.a,imageFile:null,currImageIngredients:[],selectedIngredients:[],ingredientList:[]},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.state.loadingImage?r.a.createElement(j.a,{active:this.state.loadingImage,spinner:!0,text:"Loading your content..."}):r.a.createElement("div",null,r.a.createElement("h1",null,"Add an Ingredient"),r.a.createElement("input",{type:"file",onChange:function(t){return e.handleFile(t)},className:"selectFile"}),r.a.createElement("img",{src:this.state.selectedImage,alt:"Uploaded Ingredient",className:"ingredientImage"}),this.state.currImageIngredients,r.a.createElement("p",null,"Selected Ingredients:"),this.state.ingredientList,r.a.createElement(b.a,{exact:!0,to:{pathname:"/recipes",state:{ingredients:this.state.selectedIngredients}},className:"recipeLink"},"Find recipes"))}},{key:"addIngredient",value:function(e){if(!this.state.selectedIngredients.includes(e)){var t=Object(g.a)(this.state.selectedIngredients);t.push(e);var a=Object(g.a)(this.state.ingredientList);a.push(r.a.createElement(N.a,{button:!0,onClick:this.removeIngredient.bind(this,e)},r.a.createElement("p",null,e))),this.setState(Object(p.a)({},this.state,{selectedIngredients:t,ingredientList:a}))}}},{key:"removeIngredient",value:function(e){var t=Object(g.a)(this.state.selectedIngredients),a=Object(g.a)(this.state.ingredientList),n=t.indexOf(e);t.splice(n,1),a.splice(n,1),this.setState(Object(p.a)({},this.state,{selectedIngredients:t,ingredientList:a}))}}]),t}(n.Component),x=(a(308),a(81)),S=a.n(x),C=a(82),F=a.n(C),R=a(39),A=a.n(R),D=a(83),T=a.n(D),B=(a(310),function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"title"},r.a.createElement("div",{className:"title-header"},r.a.createElement(A.a,null,r.a.createElement("img",{src:F.a,alt:"Thought bubble.",className:"thot-image"})),r.a.createElement(A.a,null,r.a.createElement("h1",null,"Food for Thought")),r.a.createElement(A.a,null,r.a.createElement("img",{src:S.a,alt:"Tasty food being cooked.",className:"title-image"})),r.a.createElement(T.a,{left:!0},r.a.createElement("h4",null,"You have the ingredients, we've got the dishes")),r.a.createElement(b.a,{className:"title-btn",to:"/search"},"Begin")))}}]),t}(n.Component)),M=a(84),J=a.n(M),U=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).getItems=function(e){return function(e,t){var a="".concat(L,"get_recipes?page=").concat(t,"&ingredients=");return e.forEach(function(e){a+=e+","}),a=a.substring(0,a.length-1),y()({method:"get",url:a})}(a.props.location.state.ingredients,e).then(function(e){var t=Object(g.a)(a.state.recipes),n=t.length;e.data.response.forEach(function(e){t.push(r.a.createElement(N.a,{button:!0},r.a.createElement("a",{href:e.href,target:"_blank"},r.a.createElement("p",null,e.title),r.a.createElement("img",{src:e.thumbnail}),r.a.createElement("p",null,"Ingredients: ",e.ingredients))))}),n===t.length&&(console.log("no more items"),a.setState(Object(p.a)({},a.state,{has_more_recipes:!1}))),a.setState(Object(p.a)({},a.state,{loading:!1,recipes:t.concat(e.response)}))}).catch(function(e){console.log(e),a.setState(Object(p.a)({},a.state,{loading:!1,error:!0}))})},a.state={loading:!0,current_page:1,recipes:[],error:!1,has_more_recipes:!0},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){return this.getItems(0)}},{key:"render",value:function(){if(this.state.loading)return r.a.createElement("div",null,"LOADING...");if(this.state.error)return r.a.createElement("div",null,"ERROR...");var e=r.a.createElement("div",{className:"loader"},"Loading ...");return r.a.createElement("div",null,r.a.createElement("h1",null,"Recipes"),r.a.createElement(J.a,{pageStart:1,loadMore:this.getItems,loader:e,hasMore:this.state.has_more_recipes},this.state.recipes))}}]),t}(n.Component),W=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(h.a,{exact:!0,path:"/",component:B}),r.a.createElement(h.a,{exact:!0,path:"/search",component:_}),r.a.createElement(h.a,{exact:!0,path:"/recipes",component:U}),this.props.children)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},77:function(e,t,a){e.exports=a.p+"static/media/placeholder.fc89825e.jpg"},81:function(e,t,a){e.exports=a.p+"static/media/title-image.7991e569.jpg"},82:function(e,t,a){e.exports=a.p+"static/media/thot.b6c617a2.png"}},[[190,1,2]]]);
//# sourceMappingURL=main.21667a55.chunk.js.map